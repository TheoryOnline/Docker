<?xml version='1.0' encoding='UTF-8'?>
<project>
  <actions/>
  <description>[JENKINS-28529](https://issues.jenkins-ci.org/browse/JENKINS-28529)&#xd;
&#xd;
When [JENKINS-28529 job](/view/All/job/bugs/job/JENKINS-28529-polling-unexpectedly-cleans-workspace/) polls, it cleans the repository unnecessarily&#xd;
The [JENKINS-28529 workspace](/view/All/job/bugs/job/JENKINS-28529-polling-unexpectedly-cleans-workspace/ws/) should contain at least one file info*.txt</description>
  <keepDependencies>false</keepDependencies>
  <properties>
    <hudson.plugins.buildblocker.BuildBlockerProperty plugin="build-blocker-plugin@1.7.3">
      <useBuildBlocker>false</useBuildBlocker>
      <blockLevel>GLOBAL</blockLevel>
      <scanQueueFor>DISABLED</scanQueueFor>
      <blockingJobs></blockingJobs>
    </hudson.plugins.buildblocker.BuildBlockerProperty>
    <org.bstick12.jenkinsci.plugins.leastload.LeastLoadDisabledProperty plugin="leastload@1.0.3">
      <leastLoadDisabled>false</leastLoadDisabled>
    </org.bstick12.jenkinsci.plugins.leastload.LeastLoadDisabledProperty>
  </properties>
  <scm class="hudson.scm.NullSCM"/>
  <quietPeriod>0</quietPeriod>
  <assignedNode>master</assignedNode>
  <canRoam>false</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <jdk>(System)</jdk>
  <triggers>
    <jenkins.triggers.ReverseBuildTrigger>
      <spec></spec>
      <upstreamProjects>JENKINS-28529-polling-unexpectedly-cleans-workspace</upstreamProjects>
      <threshold>
        <name>SUCCESS</name>
        <ordinal>0</ordinal>
        <color>BLUE</color>
        <completeBuild>true</completeBuild>
      </threshold>
    </jenkins.triggers.ReverseBuildTrigger>
  </triggers>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>#!/bin/bash

rm -rf *

# Poll the job
wget -qO- http://localhost:8080/git/notifyCommit?url=https://github.com/MarkEWaite/jenkins-bugs.git  &amp;&gt; /dev/null

# Wait briefly
sleep 5

# Check the workspace is not empty
wget -q http://localhost:8080/view/All/job/bugs/job/JENKINS-28529-polling-unexpectedly-cleans-workspace/ws/
ls | grep -q -c info-.*txt || (echo; echo &quot;info-*.txt not found in checked workspace&quot;; echo)</command>
    </hudson.tasks.Shell>
  </builders>
  <publishers>
    <hudson.plugins.textfinder.TextFinderPublisher plugin="text-finder@1.10">
      <regexp>not found in checked workspace</regexp>
      <succeedIfFound>false</succeedIfFound>
      <unstableIfFound>true</unstableIfFound>
      <alsoCheckConsoleOutput>true</alsoCheckConsoleOutput>
    </hudson.plugins.textfinder.TextFinderPublisher>
  </publishers>
  <buildWrappers/>
</project>